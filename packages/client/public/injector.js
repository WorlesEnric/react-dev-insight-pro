"use strict";var ReactDevInsight=(()=>{var p=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var M=Object.prototype.hasOwnProperty;var T=(t,e)=>{for(var o in e)p(t,o,{get:e[o],enumerable:!0})},F=(t,e,o,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of x(e))!M.call(t,r)&&r!==o&&p(t,r,{get:()=>e[r],enumerable:!(i=L(e,r))||i.enumerable});return t};var I=t=>F(p({},"__esModule",{value:!0}),t);var H={};T(H,{findFiberNode:()=>m,findNearestComponent:()=>f,getComponentName:()=>c,startInspection:()=>w,stopInspection:()=>d});var a={FunctionComponent:0,ClassComponent:1,HostRoot:3,HostComponent:5,HostText:6,ForwardRef:11,MemoComponent:14,SimpleMemoComponent:15,LazyComponent:16},n={isInspecting:!1,hoveredElement:null,overlay:null,tooltip:null};function m(t){let e=Object.keys(t).find(o=>o.startsWith("__reactFiber$")||o.startsWith("__reactInternalInstance$"));return e?t[e]??null:null}function f(t){let e=t;for(;e;){let{tag:o}=e;if(o===a.FunctionComponent||o===a.ClassComponent||o===a.ForwardRef||o===a.MemoComponent||o===a.SimpleMemoComponent){let i=c(e);if(i&&!i.startsWith("_")&&i!=="Anonymous")return e}e=e.return}return null}function c(t){let{type:e}=t;if(!e)return"Unknown";if(typeof e=="string")return e;if(typeof e=="function")return e.displayName||e.name||"Anonymous";if(typeof e=="object"){if("displayName"in e)return e.displayName;if("render"in e&&typeof e.render=="function"){let o=e.render;return o.displayName||o.name||"ForwardRef"}if("type"in e)return c({...t,type:e.type})}return"Unknown"}function _(t){let e=t.memoizedProps||{},o={};for(let[i,r]of Object.entries(e))i==="children"||i.startsWith("__")||(typeof r=="function"?o[i]="[Function]":typeof r=="object"&&r!==null?Array.isArray(r)?o[i]=`[Array(${r.length})]`:o[i]="[Object]":o[i]=r);return o}function v(t){if(t._debugSource)return{fileName:t._debugSource.fileName,lineNumber:t._debugSource.lineNumber};let{type:e}=t;return typeof e=="function"&&"__source"in e?e.__source:null}function k(){let t=document.createElement("div");return t.id="react-dev-insight-overlay",t.style.cssText=`
    position: fixed;
    pointer-events: none;
    z-index: 999999;
    background: rgba(16, 185, 129, 0.1);
    border: 2px solid rgba(16, 185, 129, 0.8);
    border-radius: 4px;
    transition: all 0.1s ease-out;
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
  `,document.body.appendChild(t),t}function S(){let t=document.createElement("div");return t.id="react-dev-insight-tooltip",t.style.cssText=`
    position: fixed;
    z-index: 999999;
    pointer-events: none;
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    border: 1px solid rgba(51, 65, 85, 0.5);
    border-radius: 8px;
    padding: 8px 12px;
    font-family: 'JetBrains Mono', ui-monospace, monospace;
    font-size: 12px;
    color: #f1f5f9;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
    max-width: 300px;
    backdrop-filter: blur(8px);
  `,document.body.appendChild(t),t}function y(t){if(!n.overlay)return;let e=t.getBoundingClientRect();n.overlay.style.top=`${e.top}px`,n.overlay.style.left=`${e.left}px`,n.overlay.style.width=`${e.width}px`,n.overlay.style.height=`${e.height}px`,n.overlay.style.display="block"}function g(t,e,o,i){if(!n.tooltip)return;let r=`<span style="color: #10b981; font-weight: 600;">&lt;${o} /&gt;</span>`;if(i){let C=i.split("/").slice(-2).join("/");r+=`<br><span style="color: #64748b; font-size: 10px;">${C}</span>`}n.tooltip.innerHTML=r;let s=n.tooltip.getBoundingClientRect(),l=t+15,u=e+15;l+s.width>window.innerWidth&&(l=t-s.width-15),u+s.height>window.innerHeight&&(u=e-s.height-15),n.tooltip.style.left=`${l}px`,n.tooltip.style.top=`${u}px`,n.tooltip.style.display="block"}function N(t){if(!n.isInspecting)return;let e=document.elementFromPoint(t.clientX,t.clientY);if(!e||e===n.hoveredElement||e.id==="react-dev-insight-overlay"||e.id==="react-dev-insight-tooltip")return;n.hoveredElement=e;let o=m(e),i=f(o);if(i){let r=c(i),s=v(i);y(e),g(t.clientX,t.clientY,r,s?.fileName)}else y(e),g(t.clientX,t.clientY,e.tagName.toLowerCase())}function h(t){if(!n.isInspecting)return;t.preventDefault(),t.stopPropagation();let e=n.hoveredElement;if(!e)return;let o=m(e),i=f(o);if(i){let r=c(i),s=v(i),l=_(i);window.parent.postMessage({type:"ELEMENT_SELECTED",payload:{componentName:r,filePath:s?.fileName||"Unknown",lineNumber:s?.lineNumber,props:l,tagName:e.tagName.toLowerCase()}},"*")}else window.parent.postMessage({type:"ELEMENT_SELECTED",payload:{componentName:e.tagName.toLowerCase(),filePath:"Native HTML Element",tagName:e.tagName.toLowerCase()}},"*");d()}function E(t){t.key==="Escape"&&n.isInspecting&&(d(),window.parent.postMessage({type:"INSPECTION_CANCELLED"},"*"))}function w(){n.isInspecting||(n.isInspecting=!0,n.overlay=k(),n.tooltip=S(),document.addEventListener("mousemove",N,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",E,!0),document.body.style.cursor="crosshair",window.parent.postMessage({type:"INSPECTION_STARTED"},"*"))}function d(){n.isInspecting&&(n.isInspecting=!1,n.hoveredElement=null,document.removeEventListener("mousemove",N,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",E,!0),document.body.style.cursor="",n.overlay&&(n.overlay.remove(),n.overlay=null),n.tooltip&&(n.tooltip.remove(),n.tooltip=null))}function R(t){let{type:e}=t.data||{};switch(e){case"START_INSPECTION":w();break;case"STOP_INSPECTION":d();break;case"PING":window.parent.postMessage({type:"PONG"},"*");break}}function b(){window.addEventListener("message",R),window.parent.postMessage({type:"INJECTOR_READY"},"*"),console.log("[React Dev Insight Pro] Injector initialized")}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",b):b();return I(H);})();
